<!doctype html><html lang="en"><head><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1"/><meta name="theme-color" content="#000000"/><meta name="description" content="Transform your web development with a touch of Magic"><link rel="icon" type="image/x-icon" href="/assets/magic-logo.16ba60ec.webp"><script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/highlight.min.js"></script><link rel="stylesheet" href="//unpkg.com/@catppuccin/highlightjs/css/catppuccin-latte.css"><title>Quickstart - Magic</title><script type="module" crossorigin src="/assets/index.aae60ab4.js"></script><link rel="stylesheet" href="/assets/index.179f623d.css"></head><body class="bg-zinc-900 h-screen font-sans text-white flex flex-col"><nav class="md:px-16 bg-black w-screen p-2 z-10"><a href="https://instantan.io" class="text-white inline align-baseline"><img src="data:image/webp;base64,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" class="h-4 inline align-middle ml-3 mr-1"/><h3 class="text-l text-white font-sans inline align-middle">instantan.io</h3></a></nav><nav class="px-4 md:px-16 bg-black bg-opacity-50 backdrop-blur-xl flex items-center w-full p-2 gap-5 -mt-[2px] z-10"><a href="/"><img src="/assets/magic-logo-text.9181b917.webp" class="h-16 inline"/></a><div class="flex-grow"></div><div class="hidden md:flex gap-5"><a href="/quickstart" class="magic-text-hover font-bold">Quickstart</a> <a href="/docs" class="magic-text-hover">Docs</a> <a href="/ecosystem" class="magic-text-hover">Ecosystem</a> <a href="https://github.com/Instantan/magic"><svg viewBox="0 0 16 16" fill="currentColor" role="img" aria-label="GitHub Logo" width="22" height="22" q:key="xo_0"><path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z"></path></svg></a></div><div class="space-y-2 block md:hidden" id="open-menu"><span class="block w-8 h-0.5 bg-white"></span> <span class="block w-5 h-0.5 bg-white"></span></div><div id="menu" class="absolute hidden w-full top-0 left-0 pb-10 bg-black z-50"><nav class="px-4 md:px-16 bg-black bg-opacity-10 backdrop-blur-xl flex items-center w-full gap-5"><a href="/" class="mt-2"><img src="/assets/magic-logo-text.9181b917.webp" class="h-16 inline"/></a><div class="flex-grow"></div><div class="flex w-20 md:hidden" id="close-menu"><span class="close after:bg-white before:bg-white"></span></div></nav><div class="flex px-10 pt-10 pb-5 justify-center"><div class="flex flex-col gap-4 text-center justify-center"><a href="/quickstart" class="magic-text-hover text-xl font-bold">Quickstart</a> <a href="/docs" class="magic-text-hover text-xl">Docs</a> <a href="/ecosystem" class="magic-text-hover text-xl">Ecosystem</a> <a href="https://github.com/Instantan/magic" class="magic-text-hover text-xl">Github</a></div></div></div></nav><main class="flex flex-row flex-grow max-h-screen max-w-full"><aside class="hidden md:flex flex-row justify-center w-72 h-full text-lg py-10"><ul class="flex flex-col gap-3"><li class="magic-text-hover"><a href="#installation">Installation</a></li><li class="magic-text-hover"><a href="#webserver">Web server</a></li><li class="magic-text-hover"><a href="#firstview">First view</a></li><li class="magic-text-hover"><a href="#simplecomponent">Simple component</a></li><li class="magic-text-hover"><a href="#makeitlive">Make it live</a></li><li class="magic-text-hover"><a href="#whatnow">What now</a></li></ul></aside><section class="px-5 md:px-20 mt-[-80px] w-full overflow-y-scroll [&>article]:pt-32 [&>article:not(:first-child)]:-mt-20 pb-96 [&>article]:prose [&>article]:prose-invert [&>article]:max-w-none [&>article>pre]:relative" style="height:calc(100vh - 41px)"><article id="installation"><h1 class="text-4xl pb-4">Installation</h1>Start with a blank Go project and install <strong>magic</strong> with the following command.<pre><code style="display:block;overflow-x:scroll;padding:1em;border-radius:.5em">go get github.com/Instantan/magic</code></pre></article><article id="webserver"><h1 class="text-4xl pb-4">Web server</h1>In the <cite>main.go</cite> file, create a simple web server. The only <strong>magic</strong> specific thing here is the <cite>magic.HandlerFunc(index)</cite> wich takes a component and returns a http.Handler. You can use any std-library compatible router/server/mux you want.<blockquote>Note that the following code wont compile on it's own.</blockquote><pre><div class="absolute top-1 right-1 bg-zinc-900 px-1.5 rounded">main.go</div><code style="display:block;overflow-x:scroll;padding:1em;border-radius:.5em">package main
    
import (
    "log"
    "net/http"

    "github.com/Instantan/magic"
)

func main() {
    mux := http.NewServeMux()

    mux.Handle("/", magic.HandlerFunc(index))

    log.Print("Listening to http://localhost:8070")
    if err := http.ListenAndServe(":8070", mux); err != nil {
        log.Fatal(err)
    }
}</code></pre></article><article id="firstview"><h1 class="text-4xl pb-4">First view</h1>Create a new file <cite>index.go</cite>. In that file we will create the first view. Views in magic are simple http templates. The templates are like <a href="https://mustache.github.io/">mustache templates</a> logicless. It's recommended that the views are created on the top level, because the view creation is somewhat expensive.<br/>The <cite>indexView</cite> contains a basic HTML page. The body includes a tag with the name <cite>body</cite>. In this placeholder we will render the to displaying data.<blockquote>Note that the following code wont compile on it's own.</blockquote><pre><div class="absolute top-1 right-1 bg-zinc-900 px-1.5 rounded">index.go</div><code class="language-go" style="display:block;overflow-x:scroll;padding:1em;border-radius:.5em">package main

import (
    "github.com/Instantan/magic"
)

var indexView = magic.View(`
    &lt;!DOCTYPE html&gt;
    &lt;html lang="de"&gt;
    &lt;head&gt;
        &lt;title&gt;Quickstart&lt;/title&gt;
    &lt;/head&gt;
    &lt;body&gt;
        {{ body }}
    &lt;/body&gt;
    &lt;/html&gt;
`)</code></pre></article><article id="simplecomponent"><h1 class="text-4xl pb-4">Simple component</h1>To render a view we need to create a component. The first argument of the component takes always a <cite>magic.Socket</cite>. The second argument is a generic one. It can take any type you want and is used to pass down data to the component. In this example we use the type <cite>magic.Empty</cite> wich is just a empty struct.<br/>We will add the component just under the view we just created. In that component we use the <cite>magic.Assign</cite> function to assign the value <cite>"Hello World"</cite> to the Socket.<br/>The <cite>index.go</cite> will looks afterwards like the following snippet.<br/>Now the project is runnable (<cite>go run .</cite>) and shows under the url <a href="http://localhost:8070">http://localhost:8070</a> the expected site.<pre class="relative"><div class="absolute top-1 right-1 bg-zinc-800 px-1.5 rounded">index.go</div><code style="display:block;overflow-x:scroll;padding:1em;border-radius:.5em" class="language-go">package main

import (
    "github.com/Instantan/magic"
)

var indexView = magic.View(`
    &lt;!DOCTYPE html&gt;
    &lt;html lang="de"&gt;
    &lt;head&gt;
        &lt;title&gt;Quickstart&lt;/title&gt;
    &lt;/head&gt;
    &lt;body&gt;
        {{ body }}
    &lt;/body&gt;
    &lt;/html&gt;
`)

var index = magic.Component(func(s magic.Socket, _ magic.Empty) magic.AppliedView {
    magic.Assign(s, "body", "Hello World")
    return indexView(s)
})</code></pre></article><article id="makeitlive"><h1 class="text-4xl pb-4">Make it live</h1>So far there is nothing much magical about this. You can statically render websites based on composeable components, but thats it.<br/><br/>This is where the magic starts. Magic injects a 9.6kb small JavaScript script into the header of each website. This script turns every site into a soft realtime updateable web app. To demonstrate this we add the following code into our index component. So that our <cite>index.go</cite> file looks like the following snippet.<br/><br/>This snippet checks if the socket is a live socket. Then it starts a ticker. Every seconds we call <cite>magic.Assign</cite> and assign the value of the current ticker time to the tag <cite>"body"</cite>.<br/>after the we call the <cite>s.HandleEvent</cite> method and stop the timer when we receive the unmount event.<br/><br/>If you run the project (<cite>go run .</cite>) and visit the site under <a href="http://localhost:8070">http://localhost:8070</a> you will see that the <cite>Hello World</cite> on the screen will turn into the current Date and Time that updates every second.<pre class="relative"><div class="absolute top-1 right-1 bg-zinc-800 px-1.5 rounded">index.go</div><code style="display:block;overflow-x:scroll;padding:1em;border-radius:.5em" class="language-go">package main

import (
    "github.com/Instantan/magic"
)

var indexView = magic.View(`
    &lt;!DOCTYPE html&gt;
    &lt;html&gt;
    &lt;head&gt;
        &lt;title&gt;Quickstart&lt;/title&gt;
    &lt;/head&gt;
    &lt;body&gt;
        {{ body }}
    &lt;/body&gt;
    &lt;/html&gt;
`)

var index = magic.Component(func(s magic.Socket, _ magic.Empty) magic.AppliedView {
    magic.Assign(s, "body", "Hello World")
    if s.Live() {
        t := time.NewTicker(time.Second)
		go func() {
			for r := range t.C {
				magic.Assign(s, "body", r.String())
			}
		}()
		s.HandleEvent(func(e string, d magic.EventData) {
			switch e {
			case magic.UnmountEvent:
				t.Stop()
			}
		})
    }
    return indexView(s)
})</code></pre></article><article id="whatnow" class="mb-[30vh]"><h1 class="text-4xl pb-4">What now</h1>Magic can do more then "just" updating webpages in soft realtime. It can navigate between sites without completly reloading the site. It can send events to server and the client. Consult the <a href="/docs">docs</a> for hooks, events and more.</article></section></main><script>hljs.highlightAll();</script></body></html>