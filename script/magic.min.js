(()=>{var R=Object.create;var b=Object.defineProperty;var D=Object.getOwnPropertyDescriptor;var U=Object.getOwnPropertyNames;var _=Object.getPrototypeOf,M=Object.prototype.hasOwnProperty;var f=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var L=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let a of U(t))!M.call(e,a)&&a!==n&&b(e,a,{get:()=>t[a],enumerable:!(r=D(t,a))||r.enumerable});return e};var P=(e,t,n)=>(n=e!=null?R(_(e)):{},L(t||!e||!e.__esModule?b(n,"default",{value:e,enumerable:!0}):n,e));var A=f((tt,g)=>{c.notEqual=B;c.notOk=w;c.equal=X;c.ok=c;g.exports=c;function X(e,t,n){c(e==t,n)}function B(e,t,n){c(e!=t,n)}function w(e,t){c(!e,t)}function c(e,t){if(!e)throw new Error(t||"AssertionError")}});var E=f((et,k)=>{k.exports=["onclick","ondblclick","onmousedown","onmouseup","onmouseover","onmousemove","onmouseout","onmouseenter","onmouseleave","ontouchcancel","ontouchend","ontouchmove","ontouchstart","ondragstart","ondrag","ondragenter","ondragleave","ondragover","ondrop","ondragend","onkeydown","onkeypress","onkeyup","onunload","onabort","onerror","onresize","onscroll","onselect","onchange","onsubmit","onreset","onfocus","onblur","oninput","onanimationend","onanimationiteration","onanimationstart","oncontextmenu","onfocusin","onfocusout"]});var S=f((nt,y)=>{var C=E(),z=C.length,F=1,W=3,G=8;y.exports=H;function H(e,t){var n=e.nodeType,r=e.nodeName;n===F&&J(e,t),(n===W||n===G)&&t.nodeValue!==e.nodeValue&&(t.nodeValue=e.nodeValue),r==="INPUT"?Y(e,t):r==="OPTION"?Q(e,t):r==="TEXTAREA"&&Z(e,t),K(e,t)}function J(e,t){for(var n=t.attributes,r=e.attributes,a=null,s=null,o=null,i=null,u=null,m=r.length-1;m>=0;--m)u=r[m],i=u.name,a=u.namespaceURI,s=u.value,a?(i=u.localName||i,o=t.getAttributeNS(a,i),o!==s&&t.setAttributeNS(a,i,s)):t.hasAttribute(i)?(o=t.getAttribute(i),o!==s&&(s==="null"||s==="undefined"?t.removeAttribute(i):t.setAttribute(i,s))):t.setAttribute(i,s);for(var h=n.length-1;h>=0;--h)u=n[h],u.specified!==!1&&(i=u.name,a=u.namespaceURI,a?(i=u.localName||i,e.hasAttributeNS(a,i)||t.removeAttributeNS(a,i)):e.hasAttributeNS(null,i)||t.removeAttribute(i))}function K(e,t){for(var n=0;n<z;n++){var r=C[n];e[r]?t[r]=e[r]:t[r]&&(t[r]=void 0)}}function Q(e,t){v(e,t,"selected")}function Y(e,t){var n=e.value,r=t.value;v(e,t,"checked"),v(e,t,"disabled"),e.indeterminate!==t.indeterminate&&(t.indeterminate=e.indeterminate),t.type!=="file"&&(n!==r&&(t.setAttribute("value",n),t.value=n),n==="null"&&(t.value="",t.removeAttribute("value")),e.hasAttributeNS(null,"value")?t.type==="range"&&(t.value=n):t.removeAttribute("value"))}function Z(e,t){var n=e.value;if(n!==t.value&&(t.value=n),t.firstChild&&t.firstChild.nodeValue!==n){if(n===""&&t.firstChild.nodeValue===t.placeholder)return;t.firstChild.nodeValue=n}}function v(e,t,n){e[n]!==t[n]&&(t[n]=e[n],e[n]?t.setAttribute(n,""):t.removeAttribute(n))}});var I=f((rt,q)=>{var p=A(),$=S(),j=3;q.exports=d;function d(e,t,n){return p.equal(typeof e,"object","nanomorph: oldTree should be an object"),p.equal(typeof t,"object","nanomorph: newTree should be an object"),n&&n.childrenOnly?(O(t,e),e):(p.notEqual(t.nodeType,11,"nanomorph: newTree should have one root node (which is not a DocumentFragment)"),l(t,e))}function l(e,t){return t?e?e.isSameNode&&e.isSameNode(t)?t:e.tagName!==t.tagName||V(e)!==V(t)?e:($(e,t),O(e,t),t):null:e}function V(e){return e.dataset?e.dataset.nanomorphComponentId:void 0}function O(e,t){for(var n,r,a,s,o=0,i=0;n=t.childNodes[i],r=e.childNodes[i-o],!(!n&&!r);i++)if(!r)t.removeChild(n),i--;else if(!n)t.appendChild(r),o++;else if(T(r,n))a=l(r,n),a!==n&&(t.replaceChild(a,n),o++);else{s=null;for(var u=i;u<t.childNodes.length;u++)if(T(t.childNodes[u],r)){s=t.childNodes[u];break}s?(a=l(r,s),a!==s&&o++,t.insertBefore(a,n)):!r.id&&!n.id?(a=l(r,n),a!==n&&(t.replaceChild(a,n),o++)):(t.insertBefore(r,n),o++)}}function T(e,t){return e.id?e.id===t.id:e.isSameNode?e.isSameNode(t):e.tagName!==t.tagName?!1:e.type===j?e.nodeValue===t.nodeValue:!1}});var at=P(I());window.magic={socket:null};function x(){let e=new URLSearchParams(location.search);e.append("ws","0"),window.magic.socket=new WebSocket("ws://"+location.host+location.pathname+"?"+e),window.magic.socket.onopen=function(){},window.magic.socket.onmessage=function(t){console.log(t)},window.magic.socket.onclose=function(t){console.log("Socket is closed. Reconnect will be attempted in 1 second.",t.reason),setTimeout(function(){x()},1e3)},window.magic.socket.onerror=function(t){console.error("Socket encountered error: ",t,"Closing socket"),magic.socket.close()}}x();})();
